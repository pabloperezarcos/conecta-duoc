<app-navbar></app-navbar>

<div class="container mt-4">
    <app-breadcrumb></app-breadcrumb>

    <div class="card p-4 ayudantia-detalle">
        <h3 class="mb-3">{{ publicacion?.titulo }}</h3>
        <p class="text-muted">{{ publicacion?.descripcion }}</p>

        <div class="small text-muted d-flex justify-content-between border-top pt-2 mt-3">
            <span><i class="fas fa-user"></i> {{ publicacion?.autor }}</span>
            <span><i class="fas fa-calendar-alt"></i> {{ publicacion?.fecha | date:'fullDate' }}</span>
        </div>
    </div>

    <div class="mt-4">
        <h5>Comentarios</h5>

        <div *ngFor="let com of publicacion?.comentarios || []" class="mb-2 small border-bottom pb-2">
            <strong>{{ com.autor }}:</strong> {{ com.texto }}
            <span class="text-muted ms-2">({{ com.fecha | date:'shortTime' }})</span>
        </div>

        <form [formGroup]="comentarioForm" (ngSubmit)="comentar()" class="mt-3">
            <div class="input-group input-group-sm">
                <input formControlName="texto" class="form-control" placeholder="Escribe un comentario..." />
                <button class="btn btn-outline-primary" [disabled]="comentarioForm.invalid">Enviar</button>
            </div>
        </form>
    </div>
</div>